# ! RELEASE NOTES
## 1.0.0 | 2025-09-27
## - initial release

# ================
# Partner Engine
# ================
# icon: "weather-lightning-rainy"
#
# name_en: "Weather Warning"
# name_de: "Wetterwarnung"
# subtitle_en: "Phone Notification"
# subtitle_de: "Handy-Benachrichtigung"
#
# short_description_en: "Get notified about upcoming weather events such as rain, storms, snow, and more."
# short_description_de: "Erhalte Benachrichtigungen Ã¼ber bevorstehende Wetterereignisse wie Regen, Gewitter, Schnee und mehr."
# long_description_en: "Every morning, smarli. checks the weather forecast in your area and notifies you about any upcoming weather events so that you can leave your home fully prepared."
# long_description_de: "Jeden Morgen prÃ¼ft smarli. die Wettervorhersage in deiner Umgebung und benachrichtigt dich Ã¼ber bevorstehende Wetterereignisse, damit du dein Zuhause stets bestens vorbereitet verlassen kannst."
#
# purpose_en: "Comfort" -> Options are (select one): Comfort, Security, Sustainability
# purpose_de: "Komfort"
#
# keywords: [weather, warning, notification, rain, snow, hail, lightning, fog, storm]
# events: [weather forecast]
# highlight: true
# deploy: false

blueprint:
  ############
  # Metadata #
  ############
  name: smarli. All Off Button
  description: >
    # ðŸš« smarli. All Off Button

    This automation will turn off all lights and media players in your home when a specified button is pressed. This is useful for quickly turning off everything when leaving the house or going to bed.

    *Version 1.0.0 | 2025-09-27*

    <details>
    <summary><b>How to set it up</b></summary>

    By default, this automation applies to all lights and media players in your smart home. You can exclude specific devices as desired.

      1. Select if you want to turn off lights, media players or both.
      2. Select the button(s) that will trigger the automation.
      3. (Optional) Exclude specific lights or media players from being turned off.
    </details>


    All input fields are required unless they are marked as ` (optional) `.
  domain: automation
  author: your-github-user [smarli. AG]
  source_url: url to the blueprint
  homeassistant:
    min_version: minimum required HA core version depending on the functionality of the blueprint (e.g. 2024.11.3). [At minimum, 2024.10.0 is required](https://www.home-assistant.io/docs/automation/trigger/#merging-lists-of-triggers)

  ###############
  # User Inputs #
  ###############
  input:
    trigger_inputs:
      name: Trigger Inputs
      icon: mdi:star-box-multiple
      description: These inputs are used to set the automation triggers
      input:
        myinput-for-triggers:
          # translation:
          #   name:
          #     en: Lorem Ipsum
          #     de: Lorem Ipsum
          #   description:
          #     en: Lorem Ipsum dolor sit amet
          #     de: Lorem Ipsum dolor sit amet
          #   default:
          #     en: Lorem Ipsum dolor sit amet
          #     de: Lorem Ipsum dolor sit amet
          name: add short name
          description: add short description
          selector: define the selector for this input -> https://www.home-assistant.io/docs/blueprint/selectors/
          default: add default value if you wish (needed to allow for optional fields)

    condition_inputs:
      name: Condition Inputs
      icon: mdi:help-box-multiple
      description: These inputs are used to set the automation conditions
      input:
        myinput-for-triggers:
          # translation:
          #   name:
          #     en: Lorem Ipsum
          #     de: Lorem Ipsum
          #   description:
          #     en: Lorem Ipsum dolor sit amet
          #     de: Lorem Ipsum dolor sit amet
          #   default:
          #     en: Lorem Ipsum dolor sit amet
          #     de: Lorem Ipsum dolor sit amet
          name: add short name
          description: add short description
          selector: define the selector for this input -> https://www.home-assistant.io/docs/blueprint/selectors/
          default: add default value if you wish (needed to allow for optional fields)

    action_inputs:
      name: Action Inputs
      icon: mdi:play-box-multiple
      description: These inputs are used to set the actions
      input:
        myinput-for-actions:
          # translation:
          #   name:
          #     en: Lorem Ipsum
          #     de: Lorem Ipsum
          #   description:
          #     en: Lorem Ipsum dolor sit amet
          #     de: Lorem Ipsum dolor sit amet
          #   default:
          #     en: Lorem Ipsum dolor sit amet
          #     de: Lorem Ipsum dolor sit amet
          name: add short name
          description: add short description
          selector: define the selector for this input -> https://www.home-assistant.io/docs/blueprint/selectors/
          default: add default value if you wish (needed to allow for optional fields)

    custom_inputs: # leave these as is - should be present in any blueprint
      name: "DANGER ZONE: Additional Custom Inputs"
      icon: mdi:alert
      description: >-
        **WATCH OUT!**  

        This is advanced functionality and should only be used if you know what you're doing!  


        Use this section to define custom triggers and conditions, as well as actions that will run at the end of the automation.
      collapsed: true
      input:
        custom_triggers:
          name: Custom triggers (optional)
          description: >-
            Use this to define custom triggers in addition to the default triggers.
          selector:
            trigger:
          default: []
        custom_conditions:
          name: Custom conditions (optional)
          description: >-
            Use this to define custom conditions in addition to the default conditions.
          selector:
            condition:
          default: []
        custom_actions:
          name: Custom actions (optional)
          description: >-
            Use this to define custom actions that should be executed at the end of this automation.
          selector:
            action:
          default: []

#########################
# Variables Translation #
#########################

# this is required in order to use inputs as variables within templates
variables:

##############
# Automation #
##############

mode: single
max_exceeded: silent

triggers:
  - trigger: add your trigger here
  ## Custom triggers
  - triggers: !input custom_triggers

conditions: # by default, conditions follow an AND logic
  - condition: add your condition here
  ## Custom conditions
  - condition: and
    conditions: !input custom_conditions

actions:
  - action: add your actions here
  ## Custom actions
  - if:
      - condition: template
        value_template: "{{custom_actions is not none }}"
    then: !input custom_actions
